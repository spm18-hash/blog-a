---
import "../../styles/global.css";
import { getCollection, render } from "astro:content";
import BlogPostLayout from "../../layouts/BlogPostLayout.astro";

export async function getStaticPaths() {
    const blogs = await getCollection("blog");

    return blogs.map((blog) => ({
        params: { slug: blog.id },
        props: { blog },
    }));
}

const { blog } = Astro.props;
const { data } = blog;
const { Content, headings } = await render(blog);
---

<BlogPostLayout
    title={data.title}
    description={data.description}
    image={data.image}
    imageAlt={data.imageAlt}
    publishDate={data.publishDate}
    tags={data.tags}
    authors={data.authors}
    headings={headings}
>
    <Content />
</BlogPostLayout>
